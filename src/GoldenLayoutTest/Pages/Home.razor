@page "/"
@using Blazor.GoldenLayout
@inject IJSRuntime _jsRuntime
<PageTitle>Home</PageTitle>

<div @ref=elementReference></div>

@code{

	private GoldenLayout? goldenLayout;
	private ElementReference elementReference;

	protected override async Task OnInitializedAsync()
	{
		var layoutConfig = new GoldenLayoutConfiguration
		{
			Content = new List<ContentItem>
			 {
				 new ContentItem
				 {
					   ContentType=ContentType.Component,
					   ComponentName="example",
						ComponentState=new Dictionary<string, string>
						{
						 ["text"]="example1",
						}
				 },
				 	 new ContentItem
				 {
					   ContentType=ContentType.Component,
					   ComponentName="example",
						ComponentState=new Dictionary<string, string>
						{
						 ["text"]="example2",
						}
				 },
				 	 new ContentItem
				 {
					   ContentType=ContentType.Component,
					   ComponentName="example",
						ComponentState=new Dictionary<string, string>
						{
						 ["text"]="example3",
						}
					  }
			}
		};

		goldenLayout =await GoldenLayout.CreateGoldenLayout(_jsRuntime,layoutConfig,elementReference);
		await goldenLayout.Init();
	}
}
